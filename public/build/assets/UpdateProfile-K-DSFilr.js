import{r as I,W as E,j as e,I as D}from"./app-JHr847d-.js";import{u as P}from"./index-UU_FkMNk.js";import{F as w}from"./BookmarkIcon-Bmpjnh4y.js";import{u as R}from"./chunk-6RSEZNRH-Bc2GE4v1.js";import{C as B,a as A}from"./chunk-YQO7BFFX-DSZLBsX_.js";import{C as H}from"./chunk-2EW3JUUD-BnP4_yfU.js";import{H as T}from"./chunk-7OLJDQMT-AfpAcD5m.js";import{F as t}from"./chunk-56K2BSAJ-B5oYsPph.js";import{F as n,a as l}from"./chunk-H46NUPBZ-BOPC4Oho.js";import{B as L}from"./chunk-PULVB27S-H6C7mPE7.js";import{I as m}from"./chunk-6CVSDS6C-DYEn1HBN.js";import{T as s}from"./chunk-2OOHT3W5-CSJh4K3n.js";import{I as U}from"./chunk-QINAG4RG-D-h7J8oK.js";import{C as N}from"./chunk-BDSTZZXD-CYaIS77w.js";import{B as W}from"./chunk-UVUR7MCU-xK3lE66g.js";import"./index-DzKFyuGd.js";import"./tslib.es6-DjSP9Sqm.js";import"./chunk-X3PS6RUF-VuPBMW7K.js";import"./chunk-SPIKMR6I-BlSDUyza.js";const se=({auth:d})=>{const x=R(),[f,p]=I.useState(null),{data:c,setData:a,post:v,processing:b,errors:r,clearErrors:S}=E({avatar:"",email:d.user.email,nama:d.user.nama,phone:d.user.phone}),F=(o,j)=>{if(j.length>0){j.forEach(i=>{i.errors.forEach(g=>{g.code==="file-too-large"?x({title:"Error",status:"error",description:"File is too large",duration:3e3,isClosable:!0,position:"top-right"}):g.code==="file-invalid-type"&&x({title:"Error",status:"error",description:"File is invalid type",duration:3e3,isClosable:!0,position:"top-right"})})}),p(null);return}const h=o[0];if(h){a("avatar",h);const i=new FileReader;i.onloadend=()=>{p(i.result)},i.readAsDataURL(h)}},{getRootProps:C,getInputProps:z,isDragActive:u}=P({onDrop:F,accept:"image/jpg,image/jpeg,image/png",maxSize:10*1024*1024,multiple:!1}),y=o=>{o.preventDefault(),v("/profile",{preserveScroll:!0,onSuccess:()=>{a("avatar",""),p(null),S()}})};return e.jsxs(B,{w:"full",p:2,h:"auto",children:[e.jsx(H,{pb:0,children:e.jsx(T,{size:"md",fontWeight:"bold",children:"Ubah Profile"})}),e.jsxs("form",{onSubmit:y,children:[e.jsxs(A,{pb:0,children:[e.jsxs(t,{mb:3,isInvalid:r.avatar,children:[e.jsx(n,{htmlFor:"avatar",fontSize:"sm",children:"Avatar"}),e.jsxs(L,{...C(),border:"2px dashed",borderColor:u?"blue.300":"gray.300",borderRadius:"md",p:10,textAlign:"center",children:[e.jsx(m,{...z()}),u?e.jsx(s,{children:"Drop the files here ..."}):e.jsx(s,{children:"Drag 'n' drop some files here, or click to select files"}),f&&e.jsx(U,{src:f,alt:"Preview",mt:4,borderRadius:"md",boxSize:"200px",objectFit:"cover"})]}),r.avatar&&e.jsx(l,{fontSize:"xs",children:r.avatar})]}),e.jsxs(t,{mb:3,isInvalid:r.nama,children:[e.jsxs(n,{htmlFor:"nama",fontSize:"sm",children:["Nama"," ",e.jsx(s,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"text",id:"nama",value:c.nama,onChange:o=>a("nama",o.target.value)}),r.nama&&e.jsx(l,{fontSize:"xs",children:r.nama})]}),e.jsxs(t,{mb:3,isInvalid:r.email,children:[e.jsxs(n,{htmlFor:"email",fontSize:"sm",children:["Email"," ",e.jsx(s,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"email",id:"email",value:c.email,onChange:o=>a("email",o.target.value)}),r.email&&e.jsx(l,{fontSize:"xs",children:r.email})]}),e.jsxs(t,{mb:3,isInvalid:r.phone,children:[e.jsxs(n,{htmlFor:"phone",fontSize:"sm",children:["No HP"," ",e.jsx(s,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"text",id:"phone",value:c.phone,onChange:o=>a("phone",o.target.value)}),r.phone&&e.jsx(l,{fontSize:"xs",children:r.phone})]})]}),e.jsx(N,{children:e.jsxs(W,{type:"submit",colorScheme:"blue",isLoading:b,loadingText:"Simpan",children:[e.jsx(D,{as:w,mr:2}),"Simpan"]})})]})]})};export{se as default};
