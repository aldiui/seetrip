import{r as S,W as N,j as e,Y as R,I as E}from"./app-JHr847d-.js";import{A as W}from"./AppLayout-BDZyFacg.js";import{u as O}from"./index-UU_FkMNk.js";import{F as T}from"./BookmarkIcon-Bmpjnh4y.js";import{u as L}from"./chunk-6RSEZNRH-Bc2GE4v1.js";import{V as H}from"./chunk-5MKCW436-CDR3RVuy.js";import{C as G,a as U}from"./chunk-YQO7BFFX-DSZLBsX_.js";import{C as V}from"./chunk-2EW3JUUD-BnP4_yfU.js";import{H as q}from"./chunk-7OLJDQMT-AfpAcD5m.js";import{S as c}from"./chunk-NEK3OOAM-CLGMhvnB.js";import{T as a}from"./chunk-2OOHT3W5-CSJh4K3n.js";import{B as m}from"./chunk-Z6RXEUPO-cZ0wX1Ud.js";import{F as p}from"./chunk-56K2BSAJ-B5oYsPph.js";import{F as x,a as h}from"./chunk-H46NUPBZ-BOPC4Oho.js";import{S as K}from"./chunk-3RSXBRAN-DMxxMGji.js";import{B as M}from"./chunk-PULVB27S-H6C7mPE7.js";import{I as k}from"./chunk-6CVSDS6C-DYEn1HBN.js";import{I as Y}from"./chunk-QINAG4RG-D-h7J8oK.js";import{B as $}from"./chunk-UVUR7MCU-xK3lE66g.js";import"./chunk-KRPLQIP4-D2gzZcl_.js";import"./chunk-YF5BD7DN-CBZVvOXh.js";import"./chunk-X3PS6RUF-VuPBMW7K.js";import"./ChevronDownIcon-vE-s4u4y.js";import"./chunk-7JBTTEVG-Dz6D23Ef.js";import"./XMarkIcon-BXD5zn01.js";import"./chunk-G72KV6MB-CldgvVEv.js";import"./chunk-V7PAE35Z-D4m-ilcb.js";import"./chunk-SPIKMR6I-BlSDUyza.js";import"./index-DzKFyuGd.js";import"./tslib.es6-DjSP9Sqm.js";import"./chunk-JARCRF6W-DwqrX1J_.js";const Be=({auth:v,sessions:w,order:i,pembayaran:u})=>{const j=L(),[g,b]=S.useState(null),{data:f,setData:d,post:F,processing:B,errors:s}=N({_method:"put",pembayaran:"",bukti_bayar:"",nama_pengirim:""}),[l,P]=S.useState(null),C=r=>{const t=r.target.value;d("pembayaran",t);const o=u.find(n=>n.uuid===t);P(o)},D=r=>{r.preventDefault(),F(`/order/${i.nomor_pemesanan}`)},z=(r,t)=>{if(t.length>0){t.forEach(n=>{n.errors.forEach(y=>{y.code==="file-too-large"?j({title:"Error",status:"error",description:"File is too large",duration:3e3,isClosable:!0,position:"top-right"}):y.code==="file-invalid-type"&&j({title:"Error",status:"error",description:"File is invalid type",duration:3e3,isClosable:!0,position:"top-right"})})}),b(null);return}const o=r[0];if(o){d("bukti_bayar",o);const n=new FileReader;n.onloadend=()=>{b(n.result)},n.readAsDataURL(o)}},{getRootProps:I,getInputProps:A,isDragActive:_}=O({onDrop:z,accept:"image/jpg,image/jpeg,image/png",maxSize:10*1024*1024,multiple:!1});return e.jsxs(W,{auth:v,sessions:w,children:[e.jsx(R,{title:"Detail Order"}),e.jsx(H,{mt:"80px",maxW:"container.xl",w:"full",children:e.jsxs(G,{p:2,maxW:"xl",w:"full",shadow:"md",children:[e.jsx(V,{children:e.jsx(q,{size:"md",fontWeight:"bold",textAlign:"center",children:"Detail Order"})}),e.jsxs(U,{children:[e.jsxs(c,{mb:2,gap:2,columns:2,children:[e.jsx(a,{children:"Nomor Pemesanan"}),e.jsx(a,{children:i.nomor_pemesanan}),e.jsx(a,{children:"Destinasi Wisata"}),e.jsx(a,{children:i.destination_price.destination.nama}),e.jsx(a,{children:"Paket Wisata"}),e.jsx(a,{children:i.destination_price.nama}),e.jsx(a,{children:"Kuantitas"}),e.jsxs(a,{children:[i.quantitas," Orang"]}),e.jsx(a,{children:"Total"}),e.jsxs(a,{children:[i.total_custom," "]})]}),i.wallet_id&&e.jsxs(c,{mb:5,gap:2,columns:2,children:[e.jsx(a,{children:"Nama Akun"}),e.jsx(a,{children:i.wallet.nama_akun}),e.jsx(a,{children:"Nomor Rekening"}),e.jsx(a,{children:i.wallet.nomor_rekening}),e.jsx(a,{children:"Nama Bank"}),e.jsx(a,{children:i.wallet.nama_bank}),e.jsx(a,{children:"Status"}),e.jsxs(a,{children:[" ",e.jsxs("div",{children:[!i.wallet_id&&i.status==0&&e.jsx(m,{colorScheme:"red",variant:"solid",children:"Belum Bayar"}),i.wallet_id&&i.status==0&&e.jsx(m,{colorScheme:"yellow",variant:"solid",children:"Pending"}),i.wallet_id&&i.status==1&&e.jsx(m,{colorScheme:"green",variant:"solid",children:"Sukses"}),i.wallet_id&&i.status==2&&e.jsx(m,{colorScheme:"red",variant:"solid",children:"Gagal"})]})]})]}),!i.wallet_id&&e.jsxs("form",{onSubmit:D,children:[e.jsxs(p,{mb:5,isInvalid:s.pembayaran,children:[e.jsxs(x,{htmlFor:"pembayaran",fontSize:"sm",children:["Pembayaran",e.jsx(a,{display:"inline",color:"red",children:"*"})]}),e.jsxs(K,{id:"pembayaran",value:f.pembayaran,onChange:C,children:[e.jsx("option",{value:"",children:"Pilih pembayaran"}),u.map(r=>e.jsxs("option",{value:r.uuid,children:[r.nama_bank," -"," ",r.nama_akun]},r.uuid))]}),s.pembayaran&&e.jsx(h,{fontSize:"xs",children:s.pembayaran})]}),l&&e.jsxs(c,{mb:5,gap:2,columns:2,children:[e.jsx(a,{children:"Nama Akun"}),e.jsx(a,{children:l.nama_akun}),e.jsx(a,{children:"Nomor Rekening"}),e.jsx(a,{children:l.nomor_rekening}),e.jsx(a,{children:"Nama Bank"}),e.jsx(a,{children:l.nama_bank})]}),e.jsxs(p,{mb:3,isInvalid:s.bukti_bayar,children:[e.jsxs(x,{htmlFor:"bukti_bayar",fontSize:"sm",children:["Bukti Bayar",e.jsx(a,{display:"inline",color:"red",children:"*"})]}),e.jsxs(M,{...I(),border:"2px dashed",borderColor:_?"blue.300":"gray.300",borderRadius:"md",p:10,textAlign:"center",children:[e.jsx(k,{...A()}),_?e.jsx(a,{children:"Drop the files here ..."}):e.jsx(a,{children:"Drag 'n' drop some files here, or click to select files"}),g&&e.jsx(Y,{src:g,alt:"Preview",mt:4,borderRadius:"md",boxSize:"200px",objectFit:"cover"})]}),s.bukti_bayar&&e.jsx(h,{fontSize:"xs",children:s.bukti_bayar})]}),e.jsxs(p,{mb:3,isInvalid:s.nama_pengirim,children:[e.jsxs(x,{htmlFor:"nama_pengirim",fontSize:"sm",children:["Nama Pengirim",e.jsx(a,{display:"inline",color:"red",children:"*"})]}),e.jsx(k,{type:"text",id:"nama_pengirim",value:f.nama_pengirim,onChange:r=>d("nama_pengirim",r.target.value)}),s.nama_pengirim&&e.jsx(h,{fontSize:"xs",children:s.nama_pengirim})]}),e.jsxs($,{type:"submit",colorScheme:"blue",isLoading:B,loadingText:"Simpan",children:[e.jsx(E,{as:T,mr:2}),"Simpan"]})]})]})]})})]})};export{Be as default};
