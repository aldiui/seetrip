import{r as n,j as e,Y as v,a as y,I as T,y as C}from"./app-JHr847d-.js";import{S as z,P as _,l as W}from"./Pagination-B1vU9_RJ.js";import{A as B}from"./AdminLayout -Bc3andDT.js";import{F as I}from"./CheckCircleIcon-BqkmKSc8.js";import{C as k,a as D}from"./chunk-YQO7BFFX-DSZLBsX_.js";import{C as P}from"./chunk-2EW3JUUD-BnP4_yfU.js";import{H as A}from"./chunk-7OLJDQMT-AfpAcD5m.js";import{F as d}from"./chunk-KRPLQIP4-D2gzZcl_.js";import{S as F}from"./chunk-3RSXBRAN-DMxxMGji.js";import{I as E}from"./chunk-6CVSDS6C-DYEn1HBN.js";import{B as p}from"./chunk-UVUR7MCU-xK3lE66g.js";import{T as H}from"./chunk-OA6OURRG-CRp3hkC4.js";import{T as L,a as R,b as l,c as o,d as N,e as t}from"./chunk-MGVPL3OH-DGTYRztJ.js";import{B as s}from"./chunk-Z6RXEUPO-cZ0wX1Ud.js";import{T as q}from"./chunk-2OOHT3W5-CSJh4K3n.js";import"./chunk-3ASUQ6PA-DZHSwCkz.js";import"./chunk-5MKCW436-CDR3RVuy.js";import"./chunk-G72KV6MB-CldgvVEv.js";import"./chunk-PULVB27S-H6C7mPE7.js";import"./ChevronDownIcon-vE-s4u4y.js";import"./chunk-7JBTTEVG-Dz6D23Ef.js";import"./chunk-V7PAE35Z-D4m-ilcb.js";import"./chunk-SPIKMR6I-BlSDUyza.js";import"./chunk-NABYTFTG-B-MaHP8x.js";import"./tslib.es6-DjSP9Sqm.js";import"./MapPinIcon-CNmZlcmu.js";import"./chunk-6RSEZNRH-Bc2GE4v1.js";import"./chunk-56K2BSAJ-B5oYsPph.js";const je=({auth:u,sessions:j,transactions:i})=>{const a=n.useRef(i.per_page),[m,h]=n.useState(!1),[c,f]=n.useState(""),g=r=>{a.current=parseInt(r.target.value),x()},w=r=>{r.preventDefault(),x()},x=()=>{h(!0),C.get("/user/transaction",W.pickBy({perpage:a.current,search:c}),{onFinish:()=>h(!1),preserveScroll:!0,preserveState:!0})},b=r=>i.from+r;return e.jsxs(B,{auth:u,sessions:j,children:[e.jsx(v,{title:"Transaksi"}),e.jsxs(k,{p:2,w:"full",h:["auto","full"],children:[e.jsx(P,{display:"flex",justifyContent:"space-between",alignItems:"center",children:e.jsx(A,{size:"md",fontWeight:"bold",children:"Data Transaksi"})}),e.jsxs(D,{children:[e.jsxs(d,{flexDir:{base:"column",md:"row"},justifyContent:"space-between",alignItems:"center",gap:4,mb:4,children:[e.jsxs(F,{id:"perpage",size:"sm",name:"perpage",width:"auto",value:a.current,onChange:g,children:[e.jsx("option",{value:"25",children:"25"}),e.jsx("option",{value:"50",children:"50"}),e.jsx("option",{value:"100",children:"100"}),e.jsx("option",{value:"250",children:"250"}),e.jsx("option",{value:"500",children:"500"})]}),e.jsxs(d,{as:"form",gap:2,onSubmit:w,children:[e.jsx(E,{size:"sm",id:"search",name:"search",type:"text",width:"auto",value:c,onChange:r=>f(r.target.value)}),e.jsx(p,{type:"submit",colorScheme:"blue",variant:"outline",size:"sm",isLoading:m,loadingText:"Cari",children:"Cari"})]})]}),e.jsx(H,{children:e.jsxs(L,{variant:"striped",colorScheme:"gray",width:"full",children:[e.jsx(R,{children:e.jsxs(l,{borderBottom:"2px",borderColor:"blue.500",bg:"blue.500",children:[e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"#"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Nomor"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Tanggal"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"User"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Destinasi"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Kuantitas"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Pembayaran"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Total"}),e.jsx(o,{fontWeight:"extrabold",fontSize:"md",color:"white",w:"5",children:"Status"})]})}),e.jsx(N,{verticalAlign:"top",children:m?e.jsx(l,{children:e.jsx(t,{colSpan:9,textAlign:"center",children:e.jsx(z,{bg:"blue.500",height:"20px",width:"100%"})})}):i.data.length==0?e.jsx(l,{children:e.jsx(t,{colSpan:9,textAlign:"center",children:"No data found"})}):i.data.map((r,S)=>e.jsxs(l,{borderBottomWidth:"1px",children:[e.jsx(t,{children:b(S)}),e.jsx(t,{children:r.nomor_pemesanan}),e.jsx(t,{children:r.tanggal}),e.jsx(t,{children:r.user.nama}),e.jsxs(t,{children:[r.destination_price.destination.nama," ","-"," ",r.destination_price.nama]}),e.jsxs(t,{children:[r.quantitas," ","Orang"]}),e.jsx(t,{children:r.wallet_id?r.wallet.nama_bank:"-"}),e.jsx(t,{children:r.total_custom}),e.jsxs(t,{display:"flex",flexDirection:"column",gap:4,children:[e.jsxs("div",{children:[!r.wallet_id&&r.status==0&&e.jsx(s,{colorScheme:"red",variant:"solid",children:"Belum Bayar"}),r.wallet_id&&r.status==0&&e.jsx(s,{colorScheme:"yellow",variant:"solid",children:"Pending"}),r.wallet_id&&r.status==1&&e.jsx(s,{colorScheme:"green",variant:"solid",children:"Sukses"}),r.wallet_id&&r.status==2&&e.jsx(s,{colorScheme:"red",variant:"solid",children:"Gagal"})]}),e.jsxs(p,{colorScheme:"green",size:"sm",mr:2,as:y,href:`/user/transaction/${r.nomor_pemesanan}`,children:[e.jsx(T,{as:I,mr:2}),"Cek Status"]})]})]},r.uuid))})]})}),e.jsxs(d,{gap:4,flexDir:{base:"column",md:"row"},justifyContent:{base:"center",md:"space-between"},alignItems:"center",mt:4,children:[e.jsxs(q,{color:"gray.500",fontSize:"sm",children:["Showing ",i.from??0," to"," ",i.to??0," of ",i.total??0]}),e.jsx(_,{links:i.links??[]})]})]})]})]})};export{je as default};
