import{r as I,W as y,j as e,I as D}from"./app-JHr847d-.js";import{u as E}from"./index-UU_FkMNk.js";import{F as P}from"./BookmarkIcon-Bmpjnh4y.js";import{C as w,a as R}from"./chunk-YQO7BFFX-DSZLBsX_.js";import{C as B}from"./chunk-2EW3JUUD-BnP4_yfU.js";import{H as A}from"./chunk-7OLJDQMT-AfpAcD5m.js";import{F as t}from"./chunk-56K2BSAJ-B5oYsPph.js";import{F as n,a as l}from"./chunk-H46NUPBZ-BOPC4Oho.js";import{B as H}from"./chunk-PULVB27S-H6C7mPE7.js";import{I as m}from"./chunk-6CVSDS6C-DYEn1HBN.js";import{T as i}from"./chunk-2OOHT3W5-CSJh4K3n.js";import{I as L}from"./chunk-QINAG4RG-D-h7J8oK.js";import{C as T}from"./chunk-BDSTZZXD-CYaIS77w.js";import{B as U}from"./chunk-UVUR7MCU-xK3lE66g.js";import"./index-DzKFyuGd.js";import"./tslib.es6-DjSP9Sqm.js";import"./chunk-X3PS6RUF-VuPBMW7K.js";import"./chunk-SPIKMR6I-BlSDUyza.js";const ae=({auth:d})=>{const[x,p]=I.useState(null),{data:c,setData:o,post:g,processing:v,errors:r,clearErrors:b}=y({avatar:"",email:d.user.email,nama:d.user.nama,phone:d.user.phone}),S=(a,j)=>{if(j.length>0){j.forEach(s=>{s.errors.forEach(u=>{u.code==="file-too-large"?console.error("File is too large"):u.code==="file-invalid-type"&&console.error("Invalid file type")})}),p(null);return}const h=a[0];if(h){o("avatar",h);const s=new FileReader;s.onloadend=()=>{p(s.result)},s.readAsDataURL(h)}},{getRootProps:F,getInputProps:z,isDragActive:f}=E({onDrop:S,accept:"image/jpg,image/jpeg,image/png",maxSize:2*1024*1024,multiple:!1}),C=a=>{a.preventDefault(),g("/user/profile",{preserveScroll:!0,onSuccess:()=>{o("avatar",""),p(null),b()}})};return e.jsxs(w,{w:"full",p:2,h:"auto",children:[e.jsx(B,{pb:0,children:e.jsx(A,{size:"md",fontWeight:"bold",children:"Ubah Profile"})}),e.jsxs("form",{onSubmit:C,children:[e.jsxs(R,{pb:0,children:[e.jsxs(t,{mb:3,isInvalid:r.avatar,children:[e.jsx(n,{htmlFor:"avatar",fontSize:"sm",children:"Avatar"}),e.jsxs(H,{...F(),border:"2px dashed",borderColor:f?"blue.300":"gray.300",borderRadius:"md",p:10,textAlign:"center",children:[e.jsx(m,{...z()}),f?e.jsx(i,{children:"Drop the files here ..."}):e.jsx(i,{children:"Drag 'n' drop some files here, or click to select files"}),x&&e.jsx(L,{src:x,alt:"Preview",mt:4,borderRadius:"md",boxSize:"200px",objectFit:"cover"})]}),r.avatar&&e.jsx(l,{fontSize:"xs",children:r.avatar})]}),e.jsxs(t,{mb:3,isInvalid:r.nama,children:[e.jsxs(n,{htmlFor:"nama",fontSize:"sm",children:["Nama"," ",e.jsx(i,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"text",id:"nama",value:c.nama,onChange:a=>o("nama",a.target.value)}),r.nama&&e.jsx(l,{fontSize:"xs",children:r.nama})]}),e.jsxs(t,{mb:3,isInvalid:r.email,children:[e.jsxs(n,{htmlFor:"email",fontSize:"sm",children:["Email"," ",e.jsx(i,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"email",id:"email",value:c.email,onChange:a=>o("email",a.target.value)}),r.email&&e.jsx(l,{fontSize:"xs",children:r.email})]}),e.jsxs(t,{mb:3,isInvalid:r.phone,children:[e.jsxs(n,{htmlFor:"phone",fontSize:"sm",children:["No HP"," ",e.jsx(i,{display:"inline",color:"red",children:"*"})]}),e.jsx(m,{type:"text",id:"phone",value:c.phone,onChange:a=>o("phone",a.target.value)}),r.phone&&e.jsx(l,{fontSize:"xs",children:r.phone})]})]}),e.jsx(T,{children:e.jsxs(U,{type:"submit",colorScheme:"blue",isLoading:v,loadingText:"Simpan",children:[e.jsx(D,{as:P,mr:2}),"Simpan"]})})]})]})};export{ae as default};
