import{r as k,W as A,R as e,Y as N,I as W}from"./app-3Odire-T.js";import{A as O}from"./AppLayout-zFVo-SQH.js";import{u as T}from"./index-CZjuZILt.js";import{F as L}from"./BookmarkIcon-GSyqtshP.js";import{u as H}from"./chunk-6RSEZNRH-BD34i_IK.js";import{V as j}from"./chunk-5MKCW436-Bns4HBhr.js";import{C as G,a as U}from"./chunk-YQO7BFFX-BdmL8qxY.js";import{C as V}from"./chunk-2EW3JUUD-C_XrtELA.js";import{H as q}from"./chunk-7OLJDQMT-kbg6kqT2.js";import{S as u}from"./chunk-NEK3OOAM-DbtBm9UK.js";import{T as t}from"./chunk-2OOHT3W5-jvLq-dWo.js";import{B as s}from"./chunk-Z6RXEUPO-BJGD8G2y.js";import{F as p}from"./chunk-56K2BSAJ-BPq0NDO9.js";import{F as E,a as d}from"./chunk-H46NUPBZ-CRgL509U.js";import{S as K}from"./chunk-3RSXBRAN-BRGoQ5j0.js";import{B as M}from"./chunk-PULVB27S-CTIjzH3m.js";import{I as v}from"./chunk-6CVSDS6C-Ctyhvxut.js";import{I as Y}from"./chunk-QINAG4RG-C_c6frYu.js";import{B as $}from"./chunk-UVUR7MCU-Borvcg8V.js";import"./chunk-KRPLQIP4-CquhG98t.js";import"./chunk-YF5BD7DN-CF6SXzDo.js";import"./chunk-X3PS6RUF-GK1NC3fo.js";import"./ChevronDownIcon-C09jPcZj.js";import"./chunk-7JBTTEVG-kwzy4p7W.js";import"./XMarkIcon-BNejivUW.js";import"./chunk-G72KV6MB-DYQCD1st.js";import"./chunk-V7PAE35Z-B2ixPV8u.js";import"./chunk-SPIKMR6I-6oXK8lhS.js";import"./index-RFnZA3JM.js";import"./tslib.es6-DjSP9Sqm.js";import"./chunk-JARCRF6W-Cc0aeDKQ.js";const Be=({auth:x,sessions:w,order:a,pembayaran:g})=>{const b=H(),[f,_]=k.useState(null),{data:y,setData:c,post:F,processing:B,errors:l}=A({_method:"put",pembayaran:"",bukti_bayar:"",nama_pengirim:""}),[o,P]=k.useState(null),C=n=>{const m=n.target.value;c("pembayaran",m);const i=g.find(r=>r.uuid===m);P(i)},D=n=>{n.preventDefault(),F(`/order/${a.nomor_pemesanan}`)},z=(n,m)=>{if(m.length>0){m.forEach(r=>{r.errors.forEach(S=>{S.code==="file-too-large"?b({title:"Error",status:"error",description:"File is too large",duration:3e3,isClosable:!0,position:"top-right"}):S.code==="file-invalid-type"&&b({title:"Error",status:"error",description:"File is invalid type",duration:3e3,isClosable:!0,position:"top-right"})})}),_(null);return}const i=n[0];if(i){c("bukti_bayar",i);const r=new FileReader;r.onloadend=()=>{_(r.result)},r.readAsDataURL(i)}},{getRootProps:I,getInputProps:R,isDragActive:h}=T({onDrop:z,accept:"image/jpg,image/jpeg,image/png",maxSize:10*1024*1024,multiple:!1});return e.createElement(O,{auth:x,sessions:w},e.createElement(N,{title:"Detail Order"}),e.createElement(j,{maxW:"container.xl",mt:"80px",px:6,py:10,w:"full",h:["auto","full"]},e.createElement(G,{p:2,maxW:"xl",w:"full",shadow:"md"},e.createElement(V,null,e.createElement(q,{size:"md",fontWeight:"bold",textAlign:"center"},"Detail Order")),e.createElement(U,null,e.createElement(u,{mb:2,gap:2,columns:2},e.createElement(t,null,"Nomor Pemesanan"),e.createElement(t,null,a.nomor_pemesanan),e.createElement(t,null,"Destinasi Wisata"),e.createElement(t,null,a.destination_price.destination.nama),e.createElement(t,null,"Paket Wisata"),e.createElement(t,null,a.destination_price.nama),e.createElement(t,null,"Kuantitas"),e.createElement(t,null,a.quantitas," Orang"),e.createElement(t,null,"Total"),e.createElement(t,null,a.total_custom," ")),a.wallet_id&&e.createElement(u,{mb:5,gap:2,columns:2},e.createElement(t,null,"Nama Akun"),e.createElement(t,null,a.wallet.nama_akun),e.createElement(t,null,"Nomor Rekening"),e.createElement(t,null,a.wallet.nomor_rekening),e.createElement(t,null,"Nama Bank"),e.createElement(t,null,a.wallet.nama_bank),e.createElement(t,null,"Status"),e.createElement(t,null," ",e.createElement("div",null,!a.wallet_id&&a.status==0&&e.createElement(s,{colorScheme:"red",variant:"solid"},"Belum Bayar"),a.wallet_id&&a.status==0&&e.createElement(s,{colorScheme:"yellow",variant:"solid"},"Pending"),a.wallet_id&&a.status==1&&e.createElement(s,{colorScheme:"green",variant:"solid"},"Sukses"),a.wallet_id&&a.status==2&&e.createElement(s,{colorScheme:"red",variant:"solid"},"Gagal")))),!a.wallet_id&&e.createElement("form",{onSubmit:D},e.createElement(p,{mb:5,isInvalid:l.pembayaran},e.createElement(E,{htmlFor:"pembayaran",fontSize:"sm"},"Pembayaran",e.createElement(t,{display:"inline",color:"red"},"*")),e.createElement(K,{id:"pembayaran",value:y.pembayaran,onChange:C},e.createElement("option",{value:""},"Pilih pembayaran"),g.map(n=>e.createElement("option",{key:n.uuid,value:n.uuid},n.nama_bank," -"," ",n.nama_akun))),l.pembayaran&&e.createElement(d,{fontSize:"xs"},l.pembayaran)),o&&e.createElement(u,{mb:5,gap:2,columns:2},e.createElement(t,null,"Nama Akun"),e.createElement(t,null,o.nama_akun),e.createElement(t,null,"Nomor Rekening"),e.createElement(t,null,o.nomor_rekening),e.createElement(t,null,"Nama Bank"),e.createElement(t,null,o.nama_bank)),e.createElement(p,{mb:3,isInvalid:l.bukti_bayar},e.createElement(E,{htmlFor:"bukti_bayar",fontSize:"sm"},"Bukti Bayar",e.createElement(t,{display:"inline",color:"red"},"*")),e.createElement(M,{...I(),border:"2px dashed",borderColor:h?"blue.300":"gray.300",borderRadius:"md",p:10,textAlign:"center"},e.createElement(v,{...R()}),h?e.createElement(t,null,"Drop the files here ..."):e.createElement(t,null,"Drag 'n' drop some files here, or click to select files"),f&&e.createElement(Y,{src:f,alt:"Preview",mt:4,borderRadius:"md",boxSize:"200px",objectFit:"cover"})),l.bukti_bayar&&e.createElement(d,{fontSize:"xs"},l.bukti_bayar)),e.createElement(p,{mb:3,isInvalid:l.nama_pengirim},e.createElement(E,{htmlFor:"nama_pengirim",fontSize:"sm"},"Nama Pengirim",e.createElement(t,{display:"inline",color:"red"},"*")),e.createElement(v,{type:"text",id:"nama_pengirim",value:y.nama_pengirim,onChange:n=>c("nama_pengirim",n.target.value)}),l.nama_pengirim&&e.createElement(d,{fontSize:"xs"},l.nama_pengirim)),e.createElement($,{type:"submit",colorScheme:"blue",isLoading:B,loadingText:"Simpan"},e.createElement(W,{as:L,mr:2}),"Simpan"))))))};export{Be as default};
