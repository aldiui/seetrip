import{r as g,W as P,j as r,Y as R,I as w,a as _}from"./app-JHr847d-.js";import{A as D}from"./AdminLayout -Bc3andDT.js";import{u as A}from"./index-UU_FkMNk.js";import{F as B}from"./BookmarkIcon-Bmpjnh4y.js";import{F as T}from"./ArrowLeftIcon-BQViQJlt.js";import{u as H}from"./chunk-6RSEZNRH-Bc2GE4v1.js";import{C as K,a as L}from"./chunk-YQO7BFFX-DSZLBsX_.js";import{C as U}from"./chunk-2EW3JUUD-BnP4_yfU.js";import{H as W}from"./chunk-7OLJDQMT-AfpAcD5m.js";import{F as t}from"./chunk-56K2BSAJ-B5oYsPph.js";import{F as l,a as n}from"./chunk-H46NUPBZ-BOPC4Oho.js";import{B as N}from"./chunk-PULVB27S-H6C7mPE7.js";import{I as m}from"./chunk-6CVSDS6C-DYEn1HBN.js";import{T as i}from"./chunk-2OOHT3W5-CSJh4K3n.js";import{I as $}from"./chunk-QINAG4RG-D-h7J8oK.js";import{S as M}from"./chunk-3RSXBRAN-DMxxMGji.js";import{C as Y}from"./chunk-BDSTZZXD-CYaIS77w.js";import{B as S}from"./chunk-UVUR7MCU-xK3lE66g.js";import"./chunk-KRPLQIP4-D2gzZcl_.js";import"./ChevronDownIcon-vE-s4u4y.js";import"./chunk-7JBTTEVG-Dz6D23Ef.js";import"./chunk-3ASUQ6PA-DZHSwCkz.js";import"./chunk-5MKCW436-CDR3RVuy.js";import"./chunk-G72KV6MB-CldgvVEv.js";import"./chunk-V7PAE35Z-D4m-ilcb.js";import"./chunk-SPIKMR6I-BlSDUyza.js";import"./chunk-NABYTFTG-B-MaHP8x.js";import"./tslib.es6-DjSP9Sqm.js";import"./MapPinIcon-CNmZlcmu.js";import"./index-DzKFyuGd.js";import"./chunk-X3PS6RUF-VuPBMW7K.js";const Fr=({auth:b,sessions:F,user:o})=>{const x=H(),[f,c]=g.useState(null),{data:d,setData:a,post:y,processing:z,errors:e}=P({_method:"PUT",nama:o.nama,avatar:"",email:o.email,password:"",konfirmasi_password:"",role:o.role,phone:o.phone,saldo:o.saldo});g.useEffect(()=>{o.avatar&&c(o.avatar)},[o.avatar]);const C=s=>{s.preventDefault(),y(`/admin/user/${o.uuid}`)},I=(s,u)=>{if(u.length>0){u.forEach(p=>{p.errors.forEach(v=>{v.code==="file-too-large"?x({title:"Error",status:"error",description:"File is too large",duration:3e3,isClosable:!0,position:"top-right"}):v.code==="file-invalid-type"&&x({title:"Error",status:"error",description:"File is invalid type",duration:3e3,isClosable:!0,position:"top-right"})})}),c(null);return}const h=s[0];if(h){a("avatar",h);const p=new FileReader;p.onloadend=()=>{c(p.result)},p.readAsDataURL(h)}},{getRootProps:E,getInputProps:k,isDragActive:j}=A({onDrop:I,accept:"image/jpg,image/jpeg,image/png",maxSize:10*1024*1024,multiple:!1});return r.jsxs(D,{auth:b,sessions:F,children:[r.jsx(R,{title:"Edit Kategori"}),r.jsxs(K,{maxW:"xl",w:"full",p:2,h:"auto",children:[r.jsx(U,{pb:0,children:r.jsx(W,{size:"md",fontWeight:"bold",children:"Edit Kategori"})}),r.jsxs("form",{onSubmit:C,children:[r.jsxs(L,{pb:0,children:[r.jsxs(t,{mb:3,isInvalid:e.avatar,children:[r.jsx(l,{htmlFor:"avatar",fontSize:"sm",children:"Avatar"}),r.jsxs(N,{...E(),border:"2px dashed",borderColor:j?"blue.300":"gray.300",borderRadius:"md",p:10,textAlign:"center",children:[r.jsx(m,{...k()}),j?r.jsx(i,{children:"Drop the files here ..."}):r.jsx(i,{children:"Drag 'n' drop some files here, or click to select files"}),f&&r.jsx($,{src:f,alt:"Preview",mt:4,borderRadius:"md",boxSize:"200px",objectFit:"cover"})]}),e.avatar&&r.jsx(n,{fontSize:"xs",children:e.avatar})]}),r.jsxs(t,{mb:3,isInvalid:e.nama,children:[r.jsxs(l,{htmlFor:"nama",fontSize:"sm",children:["Nama",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"text",id:"nama",value:d.nama,onChange:s=>a("nama",s.target.value)}),e.nama&&r.jsx(n,{fontSize:"xs",children:e.nama})]}),r.jsxs(t,{mb:3,isInvalid:e.email,children:[r.jsxs(l,{htmlFor:"email",fontSize:"sm",children:["Email"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"email",id:"email",value:d.email,onChange:s=>a("email",s.target.value)}),e.email&&r.jsx(n,{fontSize:"xs",children:e.email})]}),r.jsxs(t,{mb:3,isInvalid:e.password,children:[r.jsxs(l,{htmlFor:"password",fontSize:"sm",children:["Password"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"password",id:"password",value:d.password,onChange:s=>a("password",s.target.value)}),e.password&&r.jsx(n,{fontSize:"xs",children:e.password})]}),r.jsxs(t,{mb:3,isInvalid:e.konfirmasi_password,children:[r.jsxs(l,{htmlFor:"konfirmasi_password",fontSize:"sm",children:["Konfirmasi Password"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"password",id:"konfirmasi_password",value:d.konfirmasi_password,onChange:s=>a("konfirmasi_password",s.target.value)}),e.konfirmasi_password&&r.jsx(n,{fontSize:"xs",children:e.konfirmasi_password})]}),r.jsxs(t,{mb:3,isInvalid:e.phone,children:[r.jsxs(l,{htmlFor:"phone",fontSize:"sm",children:["No HP"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"text",id:"phone",value:d.phone,onChange:s=>a("phone",s.target.value)}),e.phone&&r.jsx(n,{fontSize:"xs",children:e.phone})]}),r.jsxs(t,{mb:3,isInvalid:e.saldo,children:[r.jsxs(l,{htmlFor:"saldo",fontSize:"sm",children:["Saldo"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsx(m,{type:"numeric",id:"saldo",value:d.saldo,onChange:s=>a("saldo",s.target.value)}),e.saldo&&r.jsx(n,{fontSize:"xs",children:e.saldo})]}),r.jsxs(t,{mb:3,isInvalid:e.role,children:[r.jsxs(l,{htmlFor:"role",fontSize:"sm",children:["Role"," ",r.jsx(i,{display:"inline",color:"red",children:"*"})]}),r.jsxs(M,{type:"text",id:"role",value:d.role,onChange:s=>a("role",s.target.value),children:[r.jsx("option",{value:"",children:"Pilih Role"}),r.jsx("option",{value:"user",children:"user"}),r.jsx("option",{value:"admin",children:"admin"})]}),e.role&&r.jsx(n,{fontSize:"xs",children:e.role})]})]}),r.jsxs(Y,{children:[r.jsxs(S,{type:"submit",colorScheme:"blue",isLoading:z,loadingText:"Simpan",children:[r.jsx(w,{as:B,mr:2}),"Simpan"]}),r.jsxs(S,{as:_,href:"/admin/user",colorScheme:"gray",ml:3,children:[r.jsx(w,{as:T,mr:2}),"Kembali"]})]})]})]})]})};export{Fr as default};
